<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>SATORA MAMA | CRYPTO</title>
    <style>
        body { background: #0a0a0a; color: #e0e0e0; font-family: 'Consolas', monospace; display: flex; flex-direction: column; align-items: center; padding: 40px; }
        h1 { color: #00ff41; letter-spacing: 4px; text-shadow: 0 0 10px rgba(0, 255, 65, 0.3); margin-bottom: 40px; text-transform: uppercase; font-size: 24px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; width: 100%; max-width: 1200px; }
        .panel { background: #0f0f0f; border: 1px solid #333; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .label { font-weight: bold; color: #fff; text-transform: uppercase; font-size: 14px; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 5px; }
        textarea, input { background: #050505; border: 1px solid #222; color: #00ff41; padding: 12px; outline: none; font-family: inherit; font-size: 12px; resize: vertical; }
        textarea { height: 120px; }
        .actions { display: flex; gap: 10px; }
        button { flex: 1; background: #1a1a1a; color: #fff; border: 1px solid #333; padding: 12px; cursor: pointer; text-transform: uppercase; font-weight: bold; transition: 0.2s; }
        button:hover { border-color: #00ff41; color: #00ff41; background: #111; }
        .result { color: #00bcff; }
    </style>
</head>
<body>

    <h1>Cryptography Suite</h1>

    <div class="grid">
        <div class="panel">
            <div class="label">Base64 Converter</div>
            <textarea id="b64_input" placeholder="Enter text to encode or Base64 to decode..."></textarea>
            <div class="actions">
                <button id="b64_enc">Encode</button>
                <button id="b64_dec">Decode</button>
            </div>
            <textarea id="b64_output" class="result" readonly placeholder="Output..."></textarea>
        </div>

        <div class="panel">
            <div class="label">XOR Cipher (Hex Output)</div>
            <textarea id="xor_input" placeholder="Enter text or Hex string..."></textarea>
            <input id="xor_key" type="text" placeholder="Encryption Key">
            <div class="actions">
                <button id="xor_run">Execute</button>
            </div>
            <textarea id="xor_output" class="result" readonly placeholder="Output (Hex)..."></textarea>
        </div>
    </div>

    <script>
        const bIn = document.getElementById('b64_input');
        const bOut = document.getElementById('b64_output');
        
        document.getElementById('b64_enc').onclick = () => {
            try { bOut.value = btoa(bIn.value); } catch(e) { bOut.value = "Error: Invalid Input"; }
        };

        document.getElementById('b64_dec').onclick = () => {
            try { bOut.value = atob(bIn.value); } catch(e) { bOut.value = "Error: Invalid Base64"; }
        };

        const xIn = document.getElementById('xor_input');
        const xKey = document.getElementById('xor_key');
        const xOut = document.getElementById('xor_output');

        function toHex(str) {
            let result = '';
            for (let i = 0; i < str.length; i++) {
                result += str.charCodeAt(i).toString(16).padStart(2, '0');
            }
            return result;
        }

        function fromHex(str) {
            let result = '';
            for (let i = 0; i < str.length; i += 2) {
                result += String.fromCharCode(parseInt(str.substr(i, 2), 16));
            }
            return result;
        }

        document.getElementById('xor_run').onclick = () => {
            const text = xIn.value.trim();
            const key = xKey.value;
            
            if (!text || !key) return;

            let inputStr = text;
            let isHex = /^[0-9A-Fa-f]+$/.test(text);

            if (isHex) {
                try { inputStr = fromHex(text); } catch(e) { isHex = false; }
            }

            let result = '';
            for (let i = 0; i < inputStr.length; i++) {
                result += String.fromCharCode(inputStr.charCodeAt(i) ^ key.charCodeAt(i % key.length));
            }

            xOut.value = isHex ? result : toHex(result);
        };
    </script>
</body>
</html>
